<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Perfil - Crow-d</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="profile.css">
      <link rel="icon" type="image/png" href="../img/corvo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

     <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
<script src="../config/global-notifications.js" defer></script>
    
    <!-- Firebase SDKs -->

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <style>
        #cropperModal {
            display: none;
            position: fixed;
            z-index: 1050;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
        }
        .cropper-container {
            max-width: 90vw;
            max-height: 80vh;
        }
        #cropper-actions {
            margin-top: 15px;
            text-align: center;
        }
        #cropper-actions button {
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div id="cropperModal" class="modal-overlay">
        <div class="modal-content">
            <h2 style="text-align: center;">Editar Imagem</h2>
            <div>
                <img id="imageToCrop" src="" alt="Imagem para cortar" style="max-width: 100%;">
            </div>
            <div id="cropper-actions" class="modal-actions" style="justify-content: center;">
                <button type="button" id="cropSaveBtn" class="primary-btn"><i class="fas fa-check"></i> Salvar</button>
                <button type="button" id="rotateBtn" class="secondary-btn" title="Girar"><i class="fas fa-sync-alt"></i></button>
                <button type="button" id="flipHorizontalBtn" class="secondary-btn" title="Inverter Horizontalmente"><i class="fas fa-arrows-alt-h"></i></button>
                <button type="button" id="flipVerticalBtn" class="secondary-btn" title="Inverter Verticalmente"><i class="fas fa-arrows-alt-v"></i></button>
                <button type="button" id="cropCancelBtn" class="secondary-btn"><i class="fas fa-times"></i> Cancelar</button>
            </div>
        </div>
    </div>
    <div class="profile-container">
        <div class="profile-header">
            <img src="../img/corvo.png" alt="Logo Crow-d" class="logo-img">
            <h1>Crie seu perfil na Crow-d</h1>
            <p>Personalize seu perfil para encontrar estudantes com interesses similares</p>
        </div>

        <form id="profileForm">
            <div class="profile-section">
                <h2><i class="fas fa-uers"></i> Informações Básicas</h2>
                
                <div class="profile-photo-container">
    <div class="profile-photo-preview">
        <img id="photoPreview" src="../img/Design sem nome2.png" alt="Foto de perfil">
    </div>
    <div class="photo-upload">
        <label for="photoFile" class="photo-upload-btn">Escolher foto</label>
        <input type="file" id="photoFile" accept="image/*" style="display: none;">
        <small>Selecione uma imagem do seu dispositivo.</small>
    </div>
</div>

                <div class="input-group">
    <label for="nickname">Apelido</label>
    <div class="nickname-validation-wrapper">
        <input type="text" id="nickname" name="nickname" placeholder="Como quer ser chamado?" required maxlength="40">
        <span id="nickname-validation-status"></span>
    </div>
    <small id="nickname-char-counter">0/40</small>
</div>

                <div class="input-group">
                    <label for="bio">Biografia</label>
                    <textarea id="bio" name="bio" placeholder="Conte um pouco sobre você..." rows="3"></textarea>
                </div>

                <div class="input-group">
                    <label for="school">Escola</label>
                    <select id="school" name="school" required>
                        <option value="">Selecione uma ETEC...</option>
                        <option value="ETEC Albert Einstein">ETEC Albert Einstein</option>

                    </select>
                </div>

                <div class="input-group">
    <label for="grade">Série/Ano e Curso</label>
    <select id="grade" name="grade" required>
        <option value="">Selecione seu curso e ano...</option>
        <optgroup label="Administração">
            <option value="Administração - 1º Ano">Administração - 1º Ano</option>
            <option value="Administração - 2º Ano">Administração - 2º Ano</option>
            <option value="Administração - 3º Ano">Administração - 3º Ano</option>
        </optgroup>
        <optgroup label="Ciências da Natureza">
            <option value="Ciências da Natureza - 1º Ano">Ciências da Natureza - 1º Ano</option>
            <option value="Ciências da Natureza - 2º Ano">Ciências da Natureza - 2º Ano</option>
            <option value="Ciências da Natureza - 3º Ano">Ciências da Natureza - 3º Ano</option>
        </optgroup>
        <optgroup label="Ciências Humanas">
            <option value="Ciências Humanas - 1º Ano">Ciências Humanas - 1º Ano</option>
            <option value="Ciências Humanas - 2º Ano">Ciências Humanas - 2º Ano</option>
            <option value="Ciências Humanas - 3º Ano">Ciências Humanas - 3º Ano</option>
        </optgroup>
        <optgroup label="Comércio Exterior">
            <option value="Comércio Exterior - 1º Ano">Comércio Exterior - 1º Ano</option>
            <option value="Comércio Exterior - 2º Ano">Comércio Exterior - 2º Ano</option>
            <option value="Comércio Exterior - 3º Ano">Comércio Exterior - 3º Ano</option>
        </optgroup>
        <optgroup label="Comunicação Visual">
            <option value="Comunicação Visual - 1º Ano">Comunicação Visual - 1º Ano</option>
            <option value="Comunicação Visual - 2º Ano">Comunicação Visual - 2º Ano</option>
            <option value="Comunicação Visual - 3º Ano">Comunicação Visual - 3º Ano</option>
        </optgroup>
        <optgroup label="Design de Interiores">
            <option value="Design de Interiores - 1º Ano">Design de Interiores - 1º Ano</option>
            <option value="Design de Interiores - 2º Ano">Design de Interiores - 2º Ano</option>
            <option value="Design de Interiores - 3º Ano">Design de Interiores - 3º Ano</option>
        </optgroup>
        <optgroup label="Design Gráfico">
            <option value="Design Gráfico - 1º Ano">Design Gráfico - 1º Ano</option>
            <option value="Design Gráfico - 2º Ano">Design Gráfico - 2º Ano</option>
            <option value="Design Gráfico - 3º Ano">Design Gráfico - 3º Ano</option>
        </optgroup>
        <optgroup label="Desenvolvimento de Sistemas">
            <option value="Desenvolvimento de Sistemas - 1º Ano">Desenvolvimento de Sistemas - 1º Ano</option>
            <option value="Desenvolvimento de Sistemas - 2º Ano">Desenvolvimento de Sistemas - 2º Ano</option>
            <option value="Desenvolvimento de Sistemas - 3º Ano">Desenvolvimento de Sistemas - 3º Ano</option>
        </optgroup>
        <optgroup label="Eletrônica">
            <option value="Eletrônica - 1º Ano">Eletrônica - 1º Ano</option>
            <option value="Eletrônica - 2º Ano">Eletrônica - 2º Ano</option>
            <option value="Eletrônica - 3º Ano">Eletrônica - 3º Ano</option>
        </optgroup>
        <optgroup label="Hospedagem">
            <option value="Hospedagem - 1º Ano">Hospedagem - 1º Ano</option>
            <option value="Hospedagem - 2º Ano">Hospedagem - 2º Ano</option>
            <option value="Hospedagem - 3º Ano">Hospedagem - 3º Ano</option>
        </optgroup>
        <optgroup label="Informática">
            <option value="Informática - 1º Ano">Informática - 1º Ano</option>
            <option value="Informática - 2º Ano">Informática - 2º Ano</option>
            <option value="Informática - 3º Ano">Informática - 3º Ano</option>
        </optgroup>
        <optgroup label="Secretariado">
            <option value="Secretariado - 1º Ano">Secretariado - 1º Ano</option>
            <option value="Secretariado - 2º Ano">Secretariado - 2º Ano</option>
            <option value="Secretariado - 3º Ano">Secretariado - 3º Ano</option>
        </optgroup>
        <optgroup label="Serviços Jurídicos">
            <option value="Serviços Jurídicos - 1º Ano">Serviços Jurídicos - 1º Ano</option>
            <option value="Serviços Jurídicos - 2º Ano">Serviços Jurídicos - 2º Ano</option>
            <option value="Serviços Jurídicos - 3º Ano">Serviços Jurídicos - 3º Ano</option>
        </optgroup>
    </select>
</div>

            <div class="profile-section">
                <h2><i class="fas fa-star"></i> Seus Hobbies</h2>
                <p class="section-subtitle">Selecione seus interesses para conectar com outros estudantes</p>
                
                <div class="hobbies-container">

    <div class="hobby-category">
        <h3>Esportes</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Futebol"><span class="hobby-name">Futebol</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Basquete"><span class="hobby-name">Basquete</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Vôlei"><span class="hobby-name">Vôlei</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Corrida"><span class="hobby-name">Corrida</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-esportes">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Ciclismo"><span class="hobby-name">Ciclismo</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Natação"><span class="hobby-name">Natação</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Skate"><span class="hobby-name">Skate</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Artes Marciais"><span class class="hobby-name">Artes Marciais</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Tênis"><span class="hobby-name">Tênis</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Handebol"><span class="hobby-name">Handebol</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Yoga"><span class="hobby-name">Yoga</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Academia"><span class="hobby-name">Academia</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-esportes">Ver mais</button>
    </div>

    <div class="hobby-category">
        <h3>Artes</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Desenho"><span class="hobby-name">Desenho</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Pintura"><span class="hobby-name">Pintura</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Fotografia"><span class="hobby-name">Fotografia</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Dança"><span class="hobby-name">Dança</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-artes">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Escultura"><span class="hobby-name">Escultura</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Arte Digital"><span class="hobby-name">Arte Digital</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Teatro"><span class="hobby-name">Teatro</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Caligrafia"><span class="hobby-name">Caligrafia</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Cerâmica"><span class="hobby-name">Cerâmica</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-artes">Ver mais</button>
    </div>

    <div class="hobby-category">
        <h3>Música</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Ouvir música"><span class="hobby-name">Ouvir música</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Tocar instrumento"><span class="hobby-name">Tocar instrumento</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Cantar"><span class="hobby-name">Cantar</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Shows"><span class="hobby-name">Shows</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-musica">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Produção Musical"><span class="hobby-name">Produção Musical</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Compor"><span class="hobby-name">Compor</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="DJing"><span class="hobby-name">DJing</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Colecionar Discos"><span class="hobby-name">Colecionar Discos</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-musica">Ver mais</button>
    </div>

    <div class="hobby-category">
        <h3>Tecnologia</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Programação"><span class="hobby-name">Programação</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Jogos"><span class="hobby-name">Jogos</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Robótica"><span class="hobby-name">Robótica</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Design"><span class="hobby-name">Design</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-tecnologia">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Edição de Vídeo"><span class="hobby-name">Edição de Vídeo</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Streaming"><span class="hobby-name">Streaming</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Montagem de PC"><span class="hobby-name">Montagem de PC</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Cibersegurança"><span class="hobby-name">Cibersegurança</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-tecnologia">Ver mais</button>
    </div>

    <div class="hobby-category">
        <h3>Cultura Pop</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Filmes"><span class="hobby-name">Filmes</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Séries"><span class="hobby-name">Séries</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Animes"><span class="hobby-name">Animes</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Livros"><span class="hobby-name">Livros</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-cultura">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Quadrinhos/Mangás"><span class="hobby-name">Quadrinhos/Mangás</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Ficção Científica"><span class="hobby-name">Ficção Científica</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Fantasia"><span class="hobby-name">Fantasia</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Poesia"><span class="hobby-name">Poesia</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-cultura">Ver mais</button>
    </div>

    <div class="hobby-category">
        <h3>Estilo de Vida & Outros</h3>
        <div class="hobby-options">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Culinária"><span class="hobby-name">Culinária</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Viagens"><span class="hobby-name">Viagens</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Idiomas"><span class="hobby-name">Idiomas</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Voluntariado"><span class="hobby-name">Voluntariado</span></label>
        </div>
        <div class="hidden-hobbies" id="hobbies-outros">
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Jardinagem"><span class="hobby-name">Jardinagem</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Acampar"><span class="hobby-name">Acampar</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Astronomia"><span class="hobby-name">Astronomia</span></label>
            <label class="hobby-option"><input type="checkbox" name="hobbies" value="Animais de Estimação"><span class="hobby-name">Animais de Estimação</span></label>
        </div>
        <button type="button" class="see-more-btn" data-target="#hobbies-outros">Ver mais</button>
    </div>

</div>
                
            
            </div>

            

            <div class="form-actions">
                <button type="button" class="secondary-btn" onclick="window.location.href='../login/login.html'">Voltar</button>
                <button type="submit" class="primary-btn">Salvar perfil</button>
            </div>
        </form>
    </div>
    <div id="confirmationModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h2><i class="fas fa-check-circle"></i> Revise suas informações</h2>
        <div class="confirmation-details">
            <div class="confirmation-photo">
                <img id="confirmPhoto" src="" alt="Sua foto de perfil">
            </div>
            <div class="confirmation-info">
                <p><strong>Apelido:</strong> <span id="confirmNickname"></span></p>
                <p><strong>Escola:</strong> <span id="confirmSchool"></span></p>
                <p><strong>Curso e Ano:</strong> <span id="confirmGrade"></span></p>
                <p><strong>Biografia:</strong> <span id="confirmBio"></span></p>
            </div>
        </div>
        <div class="confirmation-hobbies">
            <p><strong>Hobbies Selecionados:</strong></p>
            <div id="confirmHobbies" class="hobby-tags"></div>
        </div>
        <div class="modal-actions">
            <button type="button" class="secondary-btn" id="editBtn">Voltar e Editar</button>
            <button type="button" class="primary-btn" id="confirmBtn">Confirmar e Salvar</button>
        </div>
    </div>
</div>
<div id="termsModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h2><i class="fas fa-file-contract"></i> Termos de Uso e Condições</h2>
        <div class="terms-content" style="max-height: 300px; overflow-y: auto; margin: 15px 0; padding: 0 10px; text-align: left; border-top: 1px solid #eee; border-bottom: 1px solid #eee;">
            <p style="margin-top: 15px;"><strong>Bem-vindo à Crow-d!</strong></p>
            <p>Ao criar seu perfil, você concorda em usar nossa plataforma de forma responsável e respeitosa. Lembre-se que este é um ambiente para conectar estudantes e promover a colaboração acadêmica e social.</p>
            <p><strong>Você concorda em:</strong></p>
            <ul style="list-style-position: inside;">
                <li>Fornecer informações verdadeiras e precisas em seu perfil.</li>
                <li>Não compartilhar conteúdo ofensivo, ilegal ou que viole os direitos de outros.</li>
                <li>Respeitar todos os membros da comunidade, sem praticar bullying, assédio ou discriminação.</li>
                <li>Não usar a plataforma para fins comerciais não autorizados ou spam.</li>
            </ul>
            <p>O descumprimento destes termos pode resultar na suspensão ou exclusão da sua conta. Ao clicar em "Aceito", você confirma que leu e concorda com todas as condições.</p>
        </div>
        <div class="modal-actions">
            <button type="button" class="secondary-btn" id="declineTermsBtn">Recusar</button>
            <button type="button" class="primary-btn" id="acceptTermsBtn">Aceito</button>
        </div>
    </div>
</div>
<div id="passwordModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h2><i class="fas fa-key"></i> Código de Acesso</h2>
        <p>Para finalizar, insira o código de acesso para entrar na rede.</p>
        <div class="input-group">
            <input type="password" id="accessCodeInput" placeholder="Digite o código" style="text-align: center; font-size: 1.2rem;">
        </div>
        <div class="modal-actions">
            <button type="button" class="secondary-btn" id="cancelPasswordBtn">Cancelar</button>
            <button type="button" class="primary-btn" id="submitPasswordBtn">Entrar</button>
        </div>
    </div>
</div>


<div id="loadingOverlay" class="modal-overlay" style="display: none;">
    <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Salvando seu perfil...</p>
    </div>
</div>


    <script src="profile.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-functions-compat.js"></script>
</body>
</html>
